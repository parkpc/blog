<!DOCTYPE html>
<html>
<head>
    
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>라즈베리파이 모델B+ 릴레이 모듈 테스트. | Youngbin Han</title>
  <meta name="description" content="최근 가지고 있던 라즈베리파이에, 릴레이 모듈을 연결해서 뭐 하나 만들어 보는 중 입니다.라즈베리파이와 릴레이 모듈을 연결하여, 방에 있는 가전제품 전원은 제어해 보려구요.">
<!--        Jquery-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46663268-3', 'auto');
  ga('send', 'pageview');

</script>

<link rel="stylesheet" href="/blog/css/material.min.css">
<link rel="stylesheet" href="/blog/css/font-awesome.min.css">
  <link rel="stylesheet" href="/blog/css/custom.css">
  <link rel="canonical" href="http://sukso96100.github.io//blog/2015/07/14/raspberry-pi-relay-module-test.html">
  <link rel="alternate" type="application/rss+xml" title="Youngbin Han" href="http://sukso96100.github.io//blog/feed.xml" />

<!--Browser Update Notification-->
<script>
var $buoop = {c:2};
function $buo_f(){
 var e = document.createElement("script");
 e.src = "https://browser-update.org/update.js";
 document.body.appendChild(e);
};
try {document.addEventListener("DOMContentLoaded", $buo_f,false)}
catch(e){window.attachEvent("onload", $buo_f)}
</script>

<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">

    </head>
    <body>

    <div class="demo-layout-transparent mdl-layout mdl-js-layout">
  <header class="mdl-layout__header mdl-layout__header--transparent">
    <div class="mdl-layout__header-row">
      <!-- Title -->
      <span class="mdl-layout-title">Youngbin Han</span>
      <!-- Add spacer, to align navigation to the right -->
      <div class="mdl-layout-spacer"></div>
      <!-- Navigation -->
      <nav class="mdl-navigation">

      </nav>
    </div>
  </header>
  <div class="mdl-layout__drawer">
    <span class="mdl-layout-title">MENU</span>
    <nav class="mdl-navigation">
      <a class="mdl-navigation__link" href="">Link</a>
      <a class="mdl-navigation__link" href="">Link</a>
      <a class="mdl-navigation__link" href="">Link</a>
      <a class="mdl-navigation__link" href="">Link</a>
    </nav>
  </div>
  <main class="mdl-layout__content">
    <div align="center">
           <div class="page-content"><!-- Your content goes here -->
 <section id="top"></section>
      <div class="postlayout-ribbon"
       style="background: url('/blogimgs/connect_relay_to_rpi_with_jumper.png') center / cover;"></div>

     <main class="postlayout-main mdl-layout__content" style="width: 100%;">
       <div class="postlayout-container mdl-grid">
         <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
         <div class=" mdl-color--white content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">
            <div class="postlayout-content mdl-shadow--4dp">
           <table><tr><td><i class="material-icons">today</i></td><td>2015.07.14</td></tr></table>
            <h2 id="TITLE">라즈베리파이 모델B+ 릴레이 모듈 테스트.</h2>
            <hr><br>
            <p>최근 가지고 있던 라즈베리파이에, 릴레이 모듈을 연결해서 뭐 하나 만들어 보는 중 입니다.
라즈베리파이와 릴레이 모듈을 연결하여, 방에 있는 가전제품 전원은 제어해 보려구요.</p>

<p>이미 소프트웨어 파트는 거의 다 되었습니다. 라즈베리파이에서 잘 돌아가나 확인하고 고치기만 하면 됩니다.
뒷북이긴 하지만, 모듈 연결해서 테스트 한것부터 시작해서 이것저것 포스팅 하려 합니다.</p>

<p>일단 이 포스트에서 릴레이 모듈 연결해서 테스트 하는 것 먼저 다루도록 하겠습니다.</p>

<p>먼저 부품을 구입해야 겠죠? 전 이미 가지고 있던 라즈베리파이1 모델 B+ 랑 8채널 릴레이 모듈을 하나 구입했습니다.
전 <a href="http://toolparts.co.kr/front/php/product.php?product_no=45658&amp;main_cate_no=&amp;display_group=">한진데이타의 릴레이 모듈</a>을 구매했습니다. 전 구입시 점퍼 케이블도 같이 구입했습니다.</p>

<p>아래 그림을 참고해서 릴레이 모듈을 점퍼 케이블을 이용해 연결해 봅시다.
그림에는 파이와 릴레이 사이 연결할 부분만 표시해 두었습니다.
<img src="/blogimgs/connect_relay_to_rpi_with_jumper.png" /><br /></p>

<p>연결 하셨스면. 이제 테스트를 한번 해 봅시다.
아래 Python 스크립트로 테스트 해 봅시다. 단순히 릴레이 모듈 각 체널 스위치 켜고 끄는 스크립트 입니다.
소스코드는 Raspbian 에서 실행됨을 가정하고 작성하였습니다. Raspbian 사용 중이시라면 실행시 문제가 없을 겁니다.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">RPi.GPIO</span> <span class="kn">as</span> <span class="nn">GPIO</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">print</span> <span class="s">"Ready?"</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="k">print</span> <span class="s">"Setting GPIO Mode as BCM"</span>
<span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BCM</span><span class="p">)</span>

<span class="k">print</span> <span class="s">"Setting Up GPIO from 2 to 9"</span>
<span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
<span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
<span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
<span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
<span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
<span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
<span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
<span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>

<span class="k">print</span> <span class="s">"Testing Relay Module Control with GPIO"</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"GPIO </span><span class="si">%</span><span class="s">d is True"</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"GPIO </span><span class="si">%</span><span class="s">d is False"</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">))</span>

<span class="k">print</span> <span class="s">"Done Testing. Cleaning Up GPIO"</span>
<span class="n">GPIO</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span></code></pre></figure>

<p>소스코드를 Python 파일(.py)로 저장하고. 아래 명령으로 실행해 봅시다.
예를들어 파일명이 relay.py 면, 다음과 같은 명령으로 실행합니다.
참고로 GPIO 사용시 루트 권한이 필요하므로. 앞에 sudo 를 붙여 실행합니다.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">sudo</span> <span class="n">python</span> <span class="n">relay</span><span class="o">.</span><span class="n">py</span></code></pre></figure>

<p>잘 작동하나요? 아래 영상처럼 작동한다면, 잘 작동하는 겁니다.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/TvI9tKXkbiQ" frameborder="0" allowfullscreen=""> </iframe>

<p>여기까지 릴레이 모듈 테스트 였습니다. 다음 포스트에서 나머지 내용들을 다루겠습니다.</p>

            <!-- 구글플러스 +1 버튼 -->
            <!-- +1 버튼을(를) 표시하고 싶은 위치에 이 태그를 배치하세요. -->
            <br><br><div class="g-plusone"></div><br>
            <!-- Facebook 좋아요 버튼 -->
            <div class="fb-like" data-href="" data-layout="button_count"
             data-action="like" data-show-faces="true" data-share="false"></div><br>
            <br>
            
           <a class="card-content" href="/blog/tags/#raspberry-pi">
               <button class="mdl-button mdl-js-button mdl-js-ripple-effect">#raspberry-pi</button> </a>
           
           <a class="card-content" href="/blog/tags/#linux">
               <button class="mdl-button mdl-js-button mdl-js-ripple-effect">#linux</button> </a>
           
           <a class="card-content" href="/blog/tags/#tutorial">
               <button class="mdl-button mdl-js-button mdl-js-ripple-effect">#tutorial</button> </a>
           
           <a class="card-content" href="/blog/tags/#tips">
               <button class="mdl-button mdl-js-button mdl-js-ripple-effect">#tips</button> </a>
           
           <br>

</div>


<!-- Google AdSense -->
<div class="postlayout-last mdl-shadow--4dp"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 블로그 포스트 광고 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-7051197638651710"
     data-ad-slot="3015305584"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<!-- Pagination links -->

<div class="postlayout-content mdl-shadow--4dp"
style="
background-color: #5F7D8B; max-width:1300px;">
<div class="mdl-card__title mdl-card--expand"></div>
<div class="mdl-card__actions">
<span class="demo-card-image__filename" style="color:white;">
<h4 style="padding: 16px;"><a href="/2015/07/11/install-archlinuxarm-on-raspberrypi.html" style="color:white;">라즈베리파이 모델B+ 에 아치리눅스ARM 설치하기.</a></h4>
<table><tr><td><i class="material-icons">today</i></td><td>2015.07.11</td></tr></table>
</span>
</div>
</div>




<div class="postlayout-content mdl-shadow--4dp"
style="background: linear-gradient( rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4) ), url('/blogimgs/node_arm.png')center / cover;
background-color: #5F7D8B; max-width:1300px;">
<div class="mdl-card__title mdl-card--expand"></div>
<div class="mdl-card__actions">
<span class="demo-card-image__filename" style="color:white;">
<h4 style="padding: 16px;"><a href="/2015/07/16/install-nodejs-on-raspberry-pi.html" style="color:white;">라즈베리파이에 Node.js 설치하기</a></h4>
<table><tr><td><i class="material-icons">today</i></td><td>2015.07.16</td></tr></table>
</span>
</div>
</div>



<div class="postlayout-last mdl-shadow--4dp"> <!--COMMENT-->
         <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'youngbinhan'; // required: replace example with your forum shortname
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</div><br><br></div>


         </div>


       </div>

  </div>
  </main>

</div>

<script src="/blog/js/material.min.js"></script>
<script src="/blog/js/common.js"></script>
        <script>
var $buoop = {c:2};
function $buo_f(){
 var e = document.createElement("script");
 e.src = "//browser-update.org/update.js";
 document.body.appendChild(e);
};
try {document.addEventListener("DOMContentLoaded", $buo_f,false)}
catch(e){window.attachEvent("onload", $buo_f)}
</script>

    </body>
</html>
