<!DOCTYPE html>
<html>
<head>
    
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ubuntu Server 에 Docker 설치하고 설정하기. | Youngbin Han</title>
  <meta name="description" content="필자는 AWS EC2 VM에 도커(Docker)를 한번 설치하여, 이것저것 개발한 웹 앱과 서버 등을 돌려보기로 했습니다. 그러면서 포스팅으로도 정리하려 합니다. 먼저, 설치/설정을 대략 했는데, 이 포스트로 그 과정을 정리합니다.">
<!--        Jquery-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46663268-3', 'auto');
  ga('send', 'pageview');

</script>

<link rel="stylesheet" href="/blog/css/material.min.css">
<link rel="stylesheet" href="/blog/css/font-awesome.min.css">
  <link rel="stylesheet" href="/blog/css/custom.css">
  <link rel="canonical" href="http://sukso96100.github.io//blog/2015/11/16/install-and-configure-docker-on-ubuntu.html">
  <link rel="alternate" type="application/rss+xml" title="Youngbin Han" href="http://sukso96100.github.io//blog/feed.xml" />

<!--Browser Update Notification-->
<script>
var $buoop = {c:2};
function $buo_f(){
 var e = document.createElement("script");
 e.src = "https://browser-update.org/update.js";
 document.body.appendChild(e);
};
try {document.addEventListener("DOMContentLoaded", $buo_f,false)}
catch(e){window.attachEvent("onload", $buo_f)}
</script>

<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">

    </head>
    <body>

    <div class="demo-layout-transparent mdl-layout mdl-js-layout">
  <header class="mdl-layout__header mdl-layout__header--transparent">
    <div class="mdl-layout__header-row">
      <!-- Title -->
      <span class="mdl-layout-title">Youngbin Han</span>
      <!-- Add spacer, to align navigation to the right -->
      <div class="mdl-layout-spacer"></div>
      <!-- Navigation -->
      <nav class="mdl-navigation">

      </nav>
    </div>
  </header>
  <div class="mdl-layout__drawer">
    <span class="mdl-layout-title">MENU</span>
    <nav class="mdl-navigation">
      <a class="mdl-navigation__link" href="">Link</a>
      <a class="mdl-navigation__link" href="">Link</a>
      <a class="mdl-navigation__link" href="">Link</a>
      <a class="mdl-navigation__link" href="">Link</a>
    </nav>
  </div>
  <main class="mdl-layout__content">
    <div align="center">
           <div class="page-content"><!-- Your content goes here -->
 <section id="top"></section>
      <div class="postlayout-ribbon"
       ></div>

     <main class="postlayout-main mdl-layout__content" style="width: 100%;">
       <div class="postlayout-container mdl-grid">
         <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
         <div class=" mdl-color--white content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">
            <div class="postlayout-content mdl-shadow--4dp">
           <table><tr><td><i class="material-icons">today</i></td><td>2015.11.16</td></tr></table>
            <h2 id="TITLE">Ubuntu Server 에 Docker 설치하고 설정하기.</h2>
            <hr><br>
            <p>필자는 AWS EC2 VM에 도커(Docker)를 한번 설치하여, 이것저것 개발한 웹 앱과 서버 등을 돌려보기로 했습니다. 그러면서 포스팅으로도 정리하려 합니다. 먼저, 설치/설정을 대략 했는데, 이 포스트로 그 과정을 정리합니다.</p>

<h2 id="docker">Docker??</h2>

<p>도커(Docker)는, 리눅스 컨테이너 기술을 기반으로, 앱을 배포할 때 필요한 모든 것을 하나의 컨테이너에 담아 OS에 상관없이 앱을 패키징하여 배포할 수 있도록 해 주는 프로그램 입니다. 기존 가상머신을 이용하여 배포를 하는 경우에는, 호스트 OS 위에 가성머신을 올리고, 각 가상머신 마다 게스트 OS와 바이너리 및 라이브러리를 넣어 그 위애 앱 하나씩 올려 배포한다면. 도커의 경우에는, 호스트 OS 위에 바로 도커 엔진이 그 위에 바로 각 앱과 바이너리 및 라이브러리가 포함된 컨테이너가 있는 구조 입니다.</p>

<p><img src="/blogimgs/vm-diagram.png" /><br />
&gt; VM의 구조
&gt; 출처 : https://www.docker.com/what-docker</p>

<p><img src="/blogimgs/docker-diagram.png" /><br />
&gt; Docker의 구조
&gt; 출처 : https://www.docker.com/what-docker</p>

<h2 id="section">설치해 봅시다.</h2>
<p>필자는 EC2 인스턴스에 우분투 서버 14.04LTS 를 돌리므로 이를 기준으로 설명 하겠습니다.</p>

<p>먼저 사용중인 커널 버전이 3.10 이상이고 64bit 커널인지 확인합니다.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">uname -r</code></pre></figure>

<p>우분투 12.04LTS의 경우, 커널 버전이 3.13 이상이여야 합니다. 아래 명령어로, 커널을 업그레이드 합니다.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo apt-get update
sudo apt-get install linux-image-generic-lts-trusty
sudo reboot</code></pre></figure>

<p>필요한 버전의 커널을 설치 하였다면, 이제 Docker 를 설치 합시다. 설치에 curl 이 필요 하므로, 먼저 curl 이 설치 되어 있는지 확인합니다.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">which curl</code></pre></figure>

<p>설치 되어 있지 않다면, 설치 합니다.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo apt-get update
sudo apt-get install curl</code></pre></figure>

<p>아래 명령으로, 최신 버전의 Docker 를 설치합니다.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">curl -sSL https://get.docker.com/ | sh</code></pre></figure>

<p>설치가 잘 되었는지 확인합니다.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo docker run hello-world</code></pre></figure>

<h2 id="docker--">(설정하기) Docker 그룹 만들기.</h2>
<p>Docker 는 TCP 소켓 대신, 유닉스 소켓에 붙어 있습니다. 기본적으로 이 유닉스 소켓은 <code class="highlighter-rouge">root</code>사용자의 소유이며,
다른 사용자들은 <code class="highlighter-rouge">sudo</code>를 사용하여 접근할 수 있습니다. Docker 데몬의 경우는 그래서 항상 <code class="highlighter-rouge">root</code> 사용자로 실행됩니다.</p>

<p><code class="highlighter-rouge">docker</code>명령어 사용시, <code class="highlighter-rouge">sudo</code>를 사용하지 않으려면, <code class="highlighter-rouge">docker</code> 유닉스 그룹을 만들고, 그 안에 사용자를 추가합니다.</p>

<ul>
  <li><code class="highlighter-rouge">sudo</code>를 사용가능한 사용자로 로그인 합니다. 예를 들어 <code class="highlighter-rouge">ubuntu</code>라는 사용자로 로그인 합니다.</li>
  <li><code class="highlighter-rouge">docker</code> 그룹을 만들고, 그 안에 <code class="highlighter-rouge">ubuntu</code>사용자를 추가 합니다.</li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo usermod -aG docker ubuntu
 </code></pre></figure>

<ul>
  <li><code class="highlighter-rouge">sudo</code>없이 <code class="highlighter-rouge">docker</code> 명령이 실행 되는지 확인합니다.</li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"> docker run hello-world
 </code></pre></figure>

<h2 id="docker----">(설정하기) 부팅시 Docker 데몬 자동 시작되도록 설정하기.</h2>

<p>우분투 15.04 이상은, systemd로 서비스를 관리합니다. 아래 명령으로 부팅시 자동시작 되도록 설정합니다.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo systemctl <span class="nb">enable </span>docker
 </code></pre></figure>

<p>우분투 14.10 이하는, upstart 로 서비스를 관리하는데, 위의 과정에서 설치중 자동으로 설정되므로, 따로 설정하실 필요가 없습니다.</p>

<hr />

<p>이번 포스트는 여기까지 입니다. 아래 링크를 참조하시면 좀 더 도움이 될 겁니다.</p>

<h2 id="section-1">참고 및 추가자료 링크</h2>

<ul>
  <li><a href="https://www.docker.com/what-docker">What is Docker</a></li>
  <li><a href="https://docs.docker.com/v1.8/installation/ubuntulinux">Installation on Ubuntu</a></li>
</ul>

            <!-- 구글플러스 +1 버튼 -->
            <!-- +1 버튼을(를) 표시하고 싶은 위치에 이 태그를 배치하세요. -->
            <br><br><div class="g-plusone"></div><br>
            <!-- Facebook 좋아요 버튼 -->
            <div class="fb-like" data-href="" data-layout="button_count"
             data-action="like" data-show-faces="true" data-share="false"></div><br>
            <br>
            
           <a class="card-content" href="/blog/tags/#aws">
               <button class="mdl-button mdl-js-button mdl-js-ripple-effect">#aws</button> </a>
           
           <a class="card-content" href="/blog/tags/#server">
               <button class="mdl-button mdl-js-button mdl-js-ripple-effect">#server</button> </a>
           
           <a class="card-content" href="/blog/tags/#docker">
               <button class="mdl-button mdl-js-button mdl-js-ripple-effect">#docker</button> </a>
           
           <a class="card-content" href="/blog/tags/#ubuntu">
               <button class="mdl-button mdl-js-button mdl-js-ripple-effect">#ubuntu</button> </a>
           
           <a class="card-content" href="/blog/tags/#linux">
               <button class="mdl-button mdl-js-button mdl-js-ripple-effect">#linux</button> </a>
           
           <a class="card-content" href="/blog/tags/#tip">
               <button class="mdl-button mdl-js-button mdl-js-ripple-effect">#tip</button> </a>
           
           <a class="card-content" href="/blog/tags/#tutorial">
               <button class="mdl-button mdl-js-button mdl-js-ripple-effect">#tutorial</button> </a>
           
           <a class="card-content" href="/blog/tags/#note">
               <button class="mdl-button mdl-js-button mdl-js-ripple-effect">#note</button> </a>
           
           <a class="card-content" href="/blog/tags/#update">
               <button class="mdl-button mdl-js-button mdl-js-ripple-effect">#update</button> </a>
           
           <br>

</div>


<!-- Google AdSense -->
<div class="postlayout-last mdl-shadow--4dp"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 블로그 포스트 광고 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-7051197638651710"
     data-ad-slot="3015305584"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<!-- Pagination links -->

<div class="postlayout-content mdl-shadow--4dp"
style="
background-color: #5F7D8B; max-width:1300px;">
<div class="mdl-card__title mdl-card--expand"></div>
<div class="mdl-card__actions">
<span class="demo-card-image__filename" style="color:white;">
<h4 style="padding: 16px;"><a href="/2015/11/07/creating-aws-ec2-instance.html" style="color:white;">AWS EC2 인스턴스 생성하기</a></h4>
<table><tr><td><i class="material-icons">today</i></td><td>2015.11.07</td></tr></table>
</span>
</div>
</div>






<div class="postlayout-last mdl-shadow--4dp"> <!--COMMENT-->
         <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'youngbinhan'; // required: replace example with your forum shortname
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</div><br><br></div>


         </div>


       </div>

  </div>
  </main>

</div>

<script src="/blog/js/material.min.js"></script>
<script src="/blog/js/common.js"></script>
        <script>
var $buoop = {c:2};
function $buo_f(){
 var e = document.createElement("script");
 e.src = "//browser-update.org/update.js";
 document.body.appendChild(e);
};
try {document.addEventListener("DOMContentLoaded", $buo_f,false)}
catch(e){window.attachEvent("onload", $buo_f)}
</script>

    </body>
</html>
